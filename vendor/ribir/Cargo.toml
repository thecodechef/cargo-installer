# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2021"
name = "ribir"
version = "0.3.0"
authors = ["RibirX<Adoo@outlook.com>"]
build = false
autobins = false
autoexamples = false
autotests = false
autobenches = false
description = "A non-intrusive declarative GUI framework, to build modern native/wasm cross-platform applications."
homepage = "https://ribir.org"
documentation = "https://ribir.org/docs"
readme = "README.md"
keywords = [
    "gui",
    "ui",
    "declarative",
    "compose-ui",
]
categories = ["gui"]
license = "MIT"
repository = "https://github.com/RibirX/Ribir/ribir"

[package.metadata.release]
tag = true

[[package.metadata.release.pre-release-replacements]]
file = "../CHANGELOG.md"
prerelease = true
replace = "{{version}}"
search = "@Unreleased"

[[package.metadata.release.pre-release-replacements]]
file = "../CHANGELOG.md"
min = 0
prerelease = true
replace = "...{{tag_name}}"
search = '\.\.\.HEAD'

[[package.metadata.release.pre-release-replacements]]
file = "../CHANGELOG.md"
prerelease = true
replace = "{{date}}"
search = "@ReleaseDate"

[[package.metadata.release.pre-release-replacements]]
exactly = 1
file = "../CHANGELOG.md"
prerelease = true
replace = """
<!-- next-header -->

## [@Unreleased] - @ReleaseDate"""
search = "<!-- next-header -->"

[[package.metadata.release.pre-release-replacements]]
exactly = 1
file = "../CHANGELOG.md"
prerelease = true
replace = """
<!-- next-url -->
[@Unreleased]: https://github.com/RibirX/Ribir/compare/{{tag_name}}...HEAD"""
search = "<!-- next-url -->"

[lib]
name = "ribir"
path = "src/lib.rs"

[[test]]
name = "single_thread"
path = "tests/timer_test.rs"
harness = false

[dependencies.once_cell]
version = "1.17.1"

[dependencies.ribir_algo]
version = "0.3.0"

[dependencies.ribir_core]
version = "0.3.0"

[dependencies.ribir_gpu]
version = "0.3.0"

[dependencies.ribir_material]
version = "0.3.0"
optional = true

[dependencies.ribir_widgets]
version = "0.3.0"
optional = true

[dependencies.rxrust]
version = "1.0.0-beta.8"
features = ["futures-scheduler"]
default-features = false

[dependencies.wgpu]
version = "0.20.0"
features = ["webgl"]
optional = true

[dependencies.winit]
version = "0.29.5"
features = [
    "x11",
    "wayland",
    "wayland-dlopen",
    "rwh_06",
]
default-features = false

[dev-dependencies.colored]
version = "2.0.0"

[dev-dependencies.env_logger]
version = "0.7.1"

[dev-dependencies.futures]
version = "0.3.26"

[features]
default = [
    "wgpu",
    "widgets",
    "material",
]
material = ["ribir_material"]
nightly = ["ribir_core/nightly"]
png = ["ribir_core/png"]
tokio-async = ["ribir_core/tokio-async"]
wgpu = [
    "ribir_gpu/wgpu",
    "dep:wgpu",
]
widgets = ["ribir_widgets"]

[target.'cfg(not(target_arch = "wasm32"))'.dependencies.arboard]
version = "3.2.0"

[target.'cfg(target_arch = "wasm32")'.dependencies.wasm-bindgen-futures]
version = "0.4.42"

[target.'cfg(target_arch = "wasm32")'.dependencies.web-sys]
version = "0.3.69"
features = ["HtmlCollection"]

[target.'cfg(target_os = "macos")'.dependencies.icrate]
version = "0.0.4"
features = [
    "Foundation",
    "Foundation_NSAppleEventManager",
    "objective-c",
    "AppKit",
    "AppKit_NSEvent",
]

[target.'cfg(target_os = "macos")'.dependencies.macos-accessibility-client]
version = "0.0.1"

[target."cfg(windows)".dependencies.winapi]
version = "0.3.9"
