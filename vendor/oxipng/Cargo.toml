# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2021"
rust-version = "1.74.0"
name = "oxipng"
version = "9.1.5"
authors = ["Joshua Holmer <jholmer.in@gmail.com>"]
build = false
exclude = [
    ".editorconfig",
    ".gitattributes",
    ".github/*",
    ".gitignore",
    ".pre-commit-hooks.yaml",
    "Dockerfile",
    "scripts/*",
    "tests/*",
    "xtask/*",
]
autolib = false
autobins = false
autoexamples = false
autotests = false
autobenches = false
description = "A lossless PNG compression optimizer"
homepage = "https://github.com/shssoichiro/oxipng"
documentation = "https://docs.rs/oxipng"
readme = "README.md"
keywords = [
    "png",
    "image-compression",
    "optimization",
    "multi-threading",
    "lossless",
]
categories = [
    "command-line-utilities",
    "compression",
]
license = "MIT"
repository = "https://github.com/shssoichiro/oxipng"

[package.metadata.deb]
assets = [
    [
    "target/release/oxipng",
    "usr/bin/",
    "755",
],
    [
    "target/xtask/mangen/manpages/oxipng.1",
    "usr/share/man/man1/",
    "644",
],
    [
    "README.md",
    "usr/share/doc/oxipng/",
    "644",
],
    [
    "CHANGELOG.md",
    "usr/share/doc/oxipng/",
    "644",
],
]

[badges.maintenance]
status = "actively-developed"

[badges.travis-ci]
branch = "master"
repository = "shssoichiro/oxipng"

[features]
binary = [
    "dep:clap",
    "dep:glob",
    "dep:env_logger",
]
default = [
    "binary",
    "parallel",
    "zopfli",
    "filetime",
]
filetime = ["dep:filetime"]
freestanding = ["libdeflater/freestanding"]
parallel = [
    "dep:rayon",
    "indexmap/rayon",
    "dep:crossbeam-channel",
]
sanity-checks = ["dep:image"]
system-libdeflate = ["libdeflater/dynamic"]
zopfli = ["dep:zopfli"]

[lib]
name = "oxipng"
path = "src/lib.rs"

[[bin]]
name = "oxipng"
path = "src/main.rs"
doc = false
required-features = ["binary"]

[[bench]]
name = "deflate"
path = "benches/deflate.rs"

[[bench]]
name = "filters"
path = "benches/filters.rs"

[[bench]]
name = "interlacing"
path = "benches/interlacing.rs"

[[bench]]
name = "reductions"
path = "benches/reductions.rs"

[[bench]]
name = "strategies"
path = "benches/strategies.rs"

[[bench]]
name = "zopfli"
path = "benches/zopfli.rs"
required-features = ["zopfli"]

[dependencies.bitvec]
version = "1.0.1"

[dependencies.clap]
version = "4.5.36"
features = ["wrap_help"]
optional = true

[dependencies.crossbeam-channel]
version = "0.5.15"
optional = true

[dependencies.env_logger]
version = "0.11.8"
features = ["auto-color"]
optional = true
default-features = false

[dependencies.filetime]
version = "0.2.25"
optional = true

[dependencies.image]
version = "0.25.6"
features = ["png"]
optional = true
default-features = false

[dependencies.indexmap]
version = "2.9.0"

[dependencies.libdeflater]
version = "1.23.1"

[dependencies.log]
version = "0.4.27"

[dependencies.rayon]
version = "1.10.0"
optional = true

[dependencies.rgb]
version = "0.8.50"

[dependencies.rustc-hash]
version = "2.1.1"

[dependencies.zopfli]
version = "0.8.2"
features = [
    "std",
    "zlib",
]
optional = true
default-features = false

[target."cfg(windows)".dependencies.glob]
version = "0.3.2"
optional = true

[profile.dev]
opt-level = 2

[profile.release]
lto = "fat"
panic = "abort"
strip = "symbols"
